{"version":3,"file":"VidStack.js","sources":["../../../src/client/components/VidStack.ts"],"sourcesContent":["import type { PropType, VNode } from \"vue\";\nimport { defineComponent, h, onMounted } from \"vue\";\nimport { isPlainObject } from \"vuepress-shared/client\";\n\nimport \"vidstack/player/styles/default/theme.css\";\nimport \"vidstack/player/styles/default/layouts/audio.css\";\nimport \"vidstack/player/styles/default/layouts/video.css\";\nimport \"../styles/vidstack.scss\";\n\nexport interface VidStackSource {\n  src: string;\n  type: string;\n}\n\nexport interface VidStackTrack {\n  /**\n   * Track source URL.\n   */\n  src: string;\n\n  /**\n   * The language of the text track data. It must be a valid BCP 47 language tag.\n   */\n  srclang: string;\n\n  /**\n   * If true, this track will be enabled by default.\n   *\n   * @default false\n   */\n  default?: boolean;\n\n  /**\n   * A string which uniquely identifies the track within the media.\n   */\n  id?: string;\n\n  /**\n   * A human-readable label for the track, or an empty string if unknown.\n   *\n   * @default ''\n   */\n  label?: string;\n\n  /**\n   * A string specifying the category into which the track falls. For example, the main audio\n   * track would have a kind of \"main\".\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/AudioTrack/kind}\n   */\n  kind: string;\n}\n\nexport default defineComponent({\n  name: \"VidStack\",\n\n  props: {\n    /**\n     * VidStack sources\n     */\n    sources: {\n      type: Array as PropType<(VidStackSource | string)[]>,\n      default: () => [],\n    },\n\n    /**\n     * VidStack tracks\n     */\n    tracks: { type: Array as PropType<VidStackTrack[]>, default: () => [] },\n  },\n\n  setup(props, { attrs }) {\n    onMounted(async () => {\n      await Promise.all([\n        import(/* webpackChunkName: \"vidstack\" */ \"vidstack/player\"),\n        import(/* webpackChunkName: \"vidstack\" */ \"vidstack/player/layouts\"),\n        import(/* webpackChunkName: \"vidstack\" */ \"vidstack/player/ui\"),\n      ]);\n    });\n\n    return (): VNode =>\n      h(\"media-player\", attrs, [\n        attrs[\"poster\"]\n          ? h(\"media-poster\", { alt: attrs[\"alt\"] || attrs[\"title\"] })\n          : null,\n        h(\"media-provider\", [\n          props.sources.map((source) =>\n            isPlainObject(source)\n              ? h(\"source\", { src: source.src, type: source.type })\n              : h(\"source\", source),\n          ),\n          props.tracks.map(\n            ({ src, label, srclang, kind, default: isDefault }) =>\n              h(\"track\", { src, label, srclang, kind, default: isDefault }),\n          ),\n          h(\"media-gesture\", { event: \"pointerup\", action: \"toggle:paused\" }),\n          h(\"media-gesture\", {\n            event: \"dblclick\",\n            action: \"toggle:fullscreen\",\n          }),\n        ]),\n        h(\"media-audio-layout\"),\n        h(\"media-video-layout\"),\n      ]);\n  },\n});\n"],"names":["VidStack","defineComponent","props","attrs","onMounted","h","source","isPlainObject","src","label","srclang","kind","isDefault"],"mappings":"sTAqDA,IAAAA,EAAeC,EAAgB,CAC7B,KAAM,WAEN,MAAO,CAIL,QAAS,CACP,KAAM,MACN,QAAS,IAAM,CACjB,CAAA,EAKA,OAAQ,CAAE,KAAM,MAAoC,QAAS,IAAM,CAAA,CAAG,CACxE,EAEA,MAAMC,EAAO,CAAE,MAAAC,CAAM,EAAG,CACtB,OAAAC,EAAU,SAAY,CACpB,MAAM,QAAQ,IAAI,CAChB,OAA0C,iBAAiB,EAC3D,OAA0C,yBAAyB,EACnE,OAA0C,oBAAoB,CAChE,CAAC,CACH,CAAC,EAEM,IACLC,EAAE,eAAgBF,EAAO,CACvBA,EAAM,OACFE,EAAE,eAAgB,CAAE,IAAKF,EAAM,KAAUA,EAAM,KAAS,CAAC,EACzD,KACJE,EAAE,iBAAkB,CAClBH,EAAM,QAAQ,IAAKI,GACjBC,EAAcD,CAAM,EAChBD,EAAE,SAAU,CAAE,IAAKC,EAAO,IAAK,KAAMA,EAAO,IAAK,CAAC,EAClDD,EAAE,SAAUC,CAAM,CACxB,EACAJ,EAAM,OAAO,IACX,CAAC,CAAE,IAAAM,EAAK,MAAAC,EAAO,QAAAC,EAAS,KAAAC,EAAM,QAASC,CAAU,IAC/CP,EAAE,QAAS,CAAE,IAAAG,EAAK,MAAAC,EAAO,QAAAC,EAAS,KAAAC,EAAM,QAASC,CAAU,CAAC,CAChE,EACAP,EAAE,gBAAiB,CAAE,MAAO,YAAa,OAAQ,eAAgB,CAAC,EAClEA,EAAE,gBAAiB,CACjB,MAAO,WACP,OAAQ,mBACV,CAAC,CACH,CAAC,EACDA,EAAE,oBAAoB,EACtBA,EAAE,oBAAoB,CACxB,CAAC,CACL,CACF,CAAC"}